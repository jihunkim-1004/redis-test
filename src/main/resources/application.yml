spring:
  application:
    name: redis-test
  data:
    redis:
      host: test-valkey-p5jkkr.serverless.apse2.cache.amazonaws.com
      port: 6379
      ssl:
        enabled: true  # TLS/SSL 활성화
      # password: yourpassword  # 필요한 경우 비밀번호 설정
      timeout: 10000ms  # 10초로 증가 (테스트용)
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: -1ms
      
      # Redis Cluster 모드 비활성화 (단일 노드 사용)
      # cluster:
      #   nodes:
      #     - 127.0.0.1:6379
      #     - 127.0.0.1:6380
      #     - 127.0.0.1:6381
      #   max-redirects: 3

  # JPA / Database 설정
  jpa:
    hibernate:
      ddl-auto: update  # 테이블 자동 생성/업데이트
    show-sql: true  # SQL 로그 출력
    properties:
      hibernate:
        format_sql: true  # SQL 포맷팅
        dialect: org.hibernate.dialect.MySQLDialect
  
  # MySQL 데이터베이스 연결
  datasource:
    url: jdbc:mysql://database-1.c34scacewdz6.ap-southeast-2.rds.amazonaws.com:3306/redistest?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
    username: admin
    password: admin1234
    driver-class-name: com.mysql.cj.jdbc.Driver

server:
  port: 8080

# SpringDoc OpenAPI (Swagger) 설정
springdoc:
  api-docs:
    path: /api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: alpha
    tags-sorter: alpha
    display-request-duration: true
    doc-expansion: none
  default-consumes-media-type: application/json
  default-produces-media-type: application/json

logging:
  level:
    root: INFO
    com.example.redistest: DEBUG

